/*
 * tcSlider (c) TimoCom 2012-2014
 * Developer: Kevin Lang <klg@timocom.com>
 */
!function(t){t.fn.TCSlider=function(e){var n,a,i=new Date,l=this,s=0,o=15,r={id:"TCSlider01"+i.getSeconds()+i.getMilliseconds(),orientation:"",speed:800,actual:1,button:["allPages"],allPagesButtonClass:"carousel-indicators",allPagesButtonStyle:"",buttonTexts:"",lastBtnContent:"&lsaquo;",nextBtnContent:"&rsaquo;",lastBtnClass:"carousel-control ",nextBtnClass:"carousel-control right",lastNextAddStyle:"",running:!0,pause:4e3,continuous:1,pagesToDisplay:1,stepWidth:1,cancelAutoRunOnClick:1,animateEasing:"linear",stopOnMouseOver:!0,topElement:"ul",elementType:"li",noButtonTexts:!0,centerDirectLinks:!1,directLinkSpeed:500,fading:!1,navClass:"carousel-controlbar",navId:"",beforeMoveFunction:null,afterMoveFunction:null,fixedChildrenSizes:[""]},u=function(){var e="";for(option in a)(l.attr("data-"+option)||l.attr("data-tcSlider-"+option)||""===l.attr("data-"+option)||""===l.attr("data-tcSlider-"+option))&&(e=l.attr("data-"+option)||l.attr("data-tcSlider-"+option),a[option]=t.isNumeric(e)?parseInt(e,10):-1!==e.indexOf("|")?e.split("|"):t.isArray(r[option])?[e]:null===r[option]?window[e]:e)},c=function(){var e,i,s,r=0,c=0,g=[],v=0,m=[],y="",x="",T=Math.max.apply(null,t(a.elementType,l).map(function(){return t(this).outerHeight()}).get()),C=Math.max.apply(null,t(a.elementType,l).map(function(){return t(this).outerWidth()}).get());if(u(),t.meta&&(a=t.extend({},a,this.data())),1===a.running&&(a.running=!0),0===a.running&&(a.running=!1),o=t(a.elementType,l).length,a.continuous&&o>a.pagesToDisplay&&(t(a.elementType,l).each(function(e){var n="";e<a.pagesToDisplay?(m[v]=t(this).clone(),v++):e>=o-a.pagesToDisplay&&(n=t(this).attr("style")||"",g[c]=t(this).clone(),"vertical"!==a.orientation&&-1===n.indexOf("margin-left")&&g[c].css({"margin-left":l.width()/a.pagesToDisplay*(a.pagesToDisplay-c)*-1}),c++)}),t(a.topElement,l).prepend(g).append(m)),l.css("overflow","hidden").addClass("TCSlider-Slider"),"vertical"===a.orientation?(t(l).css({height:T*a.pagesToDisplay}),-1!==t.inArray("height",a.fixedChildrenSizes)&&t("li",l).css({height:T}),-1!==t.inArray("width",a.fixedChildrenSizes)&&t("li",l).css({width:"100%"})):(t("ul",l).css({width:C*(o+(v||0)+(c||0)),height:T}),t("li",l).css({"float":"left"}),-1!==t.inArray("height",a.fixedChildrenSizes)&&t("li",l).css({height:"100%"}),-1!==t.inArray("width",a.fixedChildrenSizes)&&t("li",l).css({width:100/(o+(v||0)+(c||0))+"%"})),t("ul",l).css({"list-style":"none",padding:"0px",margin:"0px"}),o>a.pagesToDisplay){if(a.stopOnMouseOver&&t(l).on({mouseenter:function(){a.running=!1,clearTimeout(n)},mouseleave:function(){a.running=!0,h(0)}}),a.button.length>0&&(-1!==t.inArray("lastNext",a.button)&&(y='<div class="'+a.navClass+'" id="'+a.navId+'" style="width:'+l.width()+"px; padding:0px; margin:0px; "+a.lastNextAddStyle+'">&nbsp;',y+='<div class="'+a.lastBtnClass+'" id="'+a.id+'_LastPage">'+a.lastBtnContent+"</div>",y+='<div class="'+a.nextBtnClass+'" id="'+a.id+'_NextPage">'+a.nextBtnContent+"</div>",y+="</div>",l.after(y),t("#"+a.id+"_LastPage").click(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),t.stop&&t.stop(),p()}),t("#"+a.id+"_NextPage").click(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),t.stop&&t.stop(),d()})),-1!==t.inArray("allPages",a.button))){for(void 0!==s&&(x='style="width:'+s+'px;"'),y='<div class="'+a.allPagesButtonClass+'" id="'+a.id+'_DirectLinks" '+x+"><ul>",r=0;o>r;r++)y+='<li style="'+a.allPagesButtonStyle+'" ',0===r&&(y+='class="active" '),y+='data-page="'+(r+1)+'">',y+=a.noButtonTexts?"":a.buttonTexts.length>0?a.buttonTexts[r]:r+1,y+="</li>";y+="</ul></div>",l.after(y),a.centerDirectLinks&&(e=t("ul > li",t("."+a.allPagesButtonClass)).css("margin-left").replace("px",""),i=t("ul > li",t("."+a.allPagesButtonClass)).css("margin-right").replace("px",""),e=isNaN(e)?0:e,i=isNaN(i)?0:i,s=(parseFloat(t("ul > li",t("."+a.allPagesButtonClass)).width())+parseFloat(e)+parseFloat(i))*o,t("ul",t("."+a.allPagesButtonClass)).width(s)),t("li",t("#"+a.id+"_DirectLinks")).click(function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stop&&e.stop(),f(t(this).attr("data-page"),a.directLinkSpeed,1)})}f(a.actual,0,0)}return l},p=function(t){(!s||a.running)&&(a.actual--,f(a.actual,t,1))},d=function(t){(!s||a.running)&&(a.actual++,f(a.actual,t,1))},g=function(t){s||(a.actual=parseFloat(a.actual)+a.stepWidth,f(a.actual,t,0))},h=function(e){s=0,a.continuous&&(a.actual<=-1*a.pagesToDisplay+1?(a.actual=parseFloat(o-a.pagesToDisplay)+1,f(a.actual,0,0)):a.actual>o&&(a.actual=1,f(a.actual,0,0))),a.running&&(clearTimeout(n),(!e||e&&!a.cancelAutoRunOnClick)&&(n=setTimeout(function(){g()},a.pause))),null!==a.afterMoveFunction&&t.isFunction(a.afterMoveFunction)&&a.afterMoveFunction(a.actual)},f=function(e,i,r){var u,c,p=Math.max.apply(null,t(a.elementType,l).map(function(){return t(this).outerHeight()}).get());(void 0!==e||""===e)&&(a.actual=e),null!==a.beforeMoveFunction&&t.isFunction(a.beforeMoveFunction)&&a.beforeMoveFunction(e),i=void 0==i?a.speed:i,s=1,u="vertical"==a.orientation?0:(a.actual-1)*l.width()/a.pagesToDisplay*-1*a.stepWidth,c="vertical"==a.orientation?(a.actual-1+a.pagesToDisplay)*p*-1:0,a.fading?t(a.topElement,l).animate({opacity:0},i/2,function(){t(a.topElement,l).css("margin-left",u).css("margin-top",c),t(a.topElement,l).animate({opacity:1},i/2,function(){h(r)})}):0===i?(t(a.topElement,l).css("margin-left",u).css("margin-top",c),h(r)):t(a.topElement,l).animate({marginLeft:u,marginTop:c},i,a.animateEasing,function(){h(r)}),r&&a.cancelAutoRunOnClick&&(clearTimeout(n),a.running=!1),t.inArray("lastNext",a.button)||a.continuous||(1===a.actual?t("#"+a.id+"_LastPage").hide():t("#"+a.id+"_LastPage").show(),a.actual===o?t("#"+a.id+"_NextPage").hide():t("#"+a.id+"_NextPage").show()),-1!=t.inArray("allPages",a.button)&&t("li",t("#"+a.id+"_DirectLinks")).removeClass("active").each(function(){var e=a.actual;a.actual>o&&(e=1),t(this).attr("data-page")==e&&t(this).addClass("active")})};return this.length>1?(this.each(function(){t(this).TCSlider(e)}),this):(a=t.extend({},r,e),c())}}(jQuery);